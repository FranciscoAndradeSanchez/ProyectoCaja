@using System.Runtime.Remoting.Messaging
@model IEnumerable<CajaPopular.balance>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

@using (Html.BeginForm(null, null, FormMethod.Get))
{
    <fieldset>
        <legend>Criterios de búsqueda</legend>
        @Html.Label("buscar", "Texto:")
        @Html.TextBox("buscar")
       

        <input type="submit" value="Buscar" />
    </fieldset>
}


@{
   
    var grid = new WebGrid(Model, rowsPerPage: 20);
}

<table class="grid">
    @grid.GetHtml(
                    caption:"Registros Ingresados",
                    displayHeader:true,
                    headerStyle: "head",
                    alternatingRowStyle:"alt",
                    columns: grid.Columns(
                        grid.Column("descripcion"),
                        grid.Column("cantidad"),
                        grid.Column("fecha_captura",
                            format:p=>p.fecha_captura.ToShortDateString()
                        ),
                        grid.Column("",
                                    header:"Acciones",
                            format: @<text>
    @Html.ActionLink("Edit", "Edit", new { id = item.id_solicitante, fact = item.factura, doc = item.num_documento }) |
    @Html.ActionLink("Details", "Details", new { id = item.id_solicitante, fact = item.factura, doc = item.num_documento }) |
    @Html.ActionLink("Delete", "Delete", new { id = item.id_solicitante, fact = item.factura, doc = item.num_documento }))

                                     </text>

                            )
                        )


        );
</table>



<p>
        @Html.ActionLink("N u e v o", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.descripcion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.cantidad)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.fecha_captura)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.fecha_vencimiento)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.fecha_pago)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.borrado)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.cubierto)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.solicitante.num_solicitante)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.usuario.departamento)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.descripcion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.cantidad)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fecha_captura)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fecha_vencimiento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fecha_pago)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.borrado)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.cubierto)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.solicitante.num_solicitante)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.usuario.departamento)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id=item.id_solicitante,fact=item.factura,doc=item.num_documento  }) |
                    @Html.ActionLink("Details", "Details", new { id = item.id_solicitante, fact = item.factura, doc = item.num_documento }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.id_solicitante, fact = item.factura, doc = item.num_documento })
                </td>
            </tr>
        }

    </table>
